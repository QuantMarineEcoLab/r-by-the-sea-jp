mutate(Usefulness = fct_relevel(Usefulness, "VeryUseful", "SomewhatUseful", "NotUseful", "Unsure")) %>%
mutate(Usefulness = fct_recode(Usefulness, "Very Useful" = "VeryUseful",
"Somewhat Useful" = "SomewhatUseful",
"Not Useful"= "NotUseful")) %>%
mutate(group = "Faculty (n=71)")
Student_q4_VeryUseful <- read.csv("Student_q4_VeryUseful.csv") %>%
clean_names() %>%
rename("Option" = "q4_0_group_very_useful_i_would_use_often_max_3") %>%
rename("VeryUseful" = "count")
Student_q4_SomewhatUseful <- read.csv("Student_q4_SomewhatUseful.csv") %>%
clean_names() %>%
rename("Option" = "q4_1_group_somewhat_useful_i_would_use_sometimes") %>%
rename("SomewhatUseful" = "count")
Student_q4_NotUseful <- read.csv("Student_q4_NotUseful.csv")%>%
clean_names() %>%
rename("Option" = "q4_2_group_not_useful_i_wouldn_t_use") %>%
rename("NotUseful" = "count")
Student_q4_Unsure <- read.csv("Student_q4_Unsure.csv") %>%
clean_names() %>%
rename("Option" = "q4_3_group_i_m_not_sure") %>%
rename("Unsure" = "count")
Student_q4 <- Student_q4_VeryUseful %>%
inner_join(Student_q4_SomewhatUseful, by="Option") %>%
inner_join(Student_q4_NotUseful, by="Option") %>%
inner_join(Student_q4_Unsure, by="Option") %>%
select(Option, VeryUseful, SomewhatUseful, NotUseful, Unsure) %>%
mutate(Option= str_extract(Option, pattern = "[^(]+")) %>%
mutate(Option = fct_reorder(Option, VeryUseful)) %>%
pivot_longer(VeryUseful:Unsure, names_to="Usefulness") %>%
mutate(Option = fct_recode(Option, "Bookable Small Group Study" = "Small Group Space ",
"Open Group Study"= "Open Group Study Space ",
"Course-specific Group Study" = "Study Spaces dedicated to specific coursework ",
"Computer Access"="Access to desktop computers/external monitors",
"Lounge Spaces" = "Lounge spaces with comfortable seating to relax and connect with others",
"Storage/Lockers" = "Personal Storage/Lockers",
"Individual Study Spaces" = "Individual Study Spaces "
)) %>%
mutate(Usefulness = fct_relevel(Usefulness, "VeryUseful", "SomewhatUseful", "NotUseful", "Unsure")) %>%
mutate(Usefulness = fct_recode(Usefulness, "Very Useful" = "VeryUseful",
"Somewhat Useful" = "SomewhatUseful",
"Not Useful"= "NotUseful")) %>%
mutate(group = "Students (n=171)")
#| fig-width: 11
#| fig-height: 8
rbind(Faculty_q2, Student_q4) %>%
mutate(Option = fct_relevel(Option, "Printer", "Access to Food/Beverage", "Storage/Lockers", "Lounge Spaces", "Computer Access" , "Individual \n Study Spaces", "Course-specific \n Group Study", "Open \nGroup Study" , "Bookable Small \n Group Study")) %>%
ggplot(aes(y=Option, x=value, fill=group, alpha=fct_rev(Usefulness))) +
facet_wrap(~group) +
geom_col(position="fill") +
scale_x_continuous(labels = scales::percent) +
ylab("") +
xlab("") +
scale_fill_manual(values = my_cols[1:2], guide="none") +
scale_alpha_manual("", values=c(0.4, 0.6, 0.8, 1), guide = guide_legend(reverse = TRUE)) +
#scale_fill_brewer(" ",palette = "ByGn") +
#ggtitle("") +
labs(caption ="*Faculty were not asked about access to food/beverage or printers") +
theme_minimal(base_size = 16) +
theme(legend.position = "bottom", legend.text=element_text(size=14))
Faculty_q7_VeryUseful <- read.csv("Faculty_q7_VeryUseful.csv") %>%
clean_names() %>%
rename("Option" = "q7_0_group_very_useful_i_think_students_would_use_and_most_benefit_from_these_programs_services_max_3") %>%
rename("VeryUseful" = "count")
Faculty_q7_SomewhatUseful <- read.csv("Faculty_q7_SomewhatUseful.csv") %>%
clean_names() %>%
rename("Option" = "q7_0_group_very_useful_i_think_students_would_use_and_most_benefit_from_these_programs_services_max_3") %>%
rename("SomewhatUseful" = "count")
Faculty_q7_NotUseful <- read.csv("Faculty_q7_NotUseful.csv")%>%
clean_names() %>%
rename("Option" = "q7_2_group_not_useful_i_don_t_think_students_would_use_or_it_wouldn_t_be_beneficial") %>%
rename("NotUseful" = "count")
Faculty_q7_Unsure <- read.csv("Faculty_q7_Unsure.csv") %>%
clean_names() %>%
rename("Option" = "q7_3_group_i_m_not_sure") %>%
rename("Unsure" = "count")
Faculty_q7 <- Faculty_q7_VeryUseful %>%
inner_join(Faculty_q7_SomewhatUseful, by="Option") %>%
inner_join(Faculty_q7_NotUseful, by="Option") %>%
inner_join(Faculty_q7_Unsure, by="Option") %>%
select(Option, VeryUseful, SomewhatUseful, NotUseful, Unsure) %>%
mutate(Option= str_extract(Option, pattern = "[^(]+")) %>%
mutate(Option = fct_reorder(Option, VeryUseful)) %>%
pivot_longer(VeryUseful:Unsure, names_to="Usefulness") %>%
mutate(Option = fct_recode(Option, "One-on-one course tutoring" = "One-on-one course-specific tutoring",
"Course-specific workshops by staff/faculty"= "Course-specific workshops taught by professional staff/faculty",
"Course-specific workshops by peer tutors" = "Course-specific workshops taught by peer tutors",
"Study Group Sign-up sheets"="Sign-up sheets to help form study groups amongst peers",
"STEM/Q Study skills workshops" = "Study skills workshops tailored for STEM/Quantitative courses",
"Peer Mentoring Program" = "Peer mentoring programs ",
"Online forums" = "Online forums to discuss course-content with other students",
"Events related to exploring STEM" = "Events related to exploring STEM majors, STEM research, or STEM careers",
"Events for building community" = "Events for building community amongst students, staff, and faculty in STEM/Quantitative courses"
)) %>%
mutate(Usefulness = fct_relevel(Usefulness, "VeryUseful", "SomewhatUseful", "NotUseful", "Unsure")) %>%
mutate(Usefulness = fct_recode(Usefulness, "Very Useful" = "VeryUseful",
"Somewhat Useful" = "SomewhatUseful",
"Not Useful"= "NotUseful")) %>%
mutate(group = "Faculty (n=71)")
Student_q7_VeryUseful <- read.csv("Student_q7_VeryUseful.csv") %>%
clean_names() %>%
rename("Option" = "q7_0_group_very_useful_i_would_use_often_max_3") %>%
rename("VeryUseful" = "count")
Student_q7_SomewhatUseful <- read.csv("Student_q7_SomewhatUseful.csv") %>%
clean_names() %>%
rename("Option" = "q7_1_group_somewhat_useful_i_would_use_sometimes") %>%
rename("SomewhatUseful" = "count")
Student_q7_NotUseful <- read.csv("Student_q7_NotUseful.csv")%>%
clean_names() %>%
rename("Option" = "q7_2_group_not_useful_i_wouldn_t_use") %>%
rename("NotUseful" = "count")
Student_q7_Unsure <- read.csv("Student_q7_Unsure.csv") %>%
clean_names() %>%
rename("Option" = "q7_3_group_i_m_not_sure") %>%
rename("Unsure" = "count")
Student_q7 <- Student_q7_VeryUseful %>%
inner_join(Student_q7_SomewhatUseful, by="Option") %>%
inner_join(Student_q7_NotUseful, by="Option") %>%
inner_join(Student_q7_Unsure, by="Option") %>%
select(Option, VeryUseful, SomewhatUseful, NotUseful, Unsure) %>%
mutate(Option= str_extract(Option, pattern = "[^(]+")) %>%
#mutate(Option = fct_reorder(Option, VeryUseful)) %>%
pivot_longer(VeryUseful:Unsure, names_to="Usefulness") %>%
mutate(Option = fct_recode(Option, "One-on-one course tutoring" = "One-on-one course-specific tutoring",
"Course-specific workshops by staff/faculty"= "Course-specific workshops taught by professional staff/faculty",
"Course-specific workshops by peer tutors" = "Course-specific workshops taught by peer tutors",
"Study Group Sign-up sheets"="Sign-up sheets to help form study groups with your peers",
"STEM/Q Study skills workshops" = "Study skills workshops tailored for STEM/Quantitative courses",
"Peer Mentoring Program" = "Peer mentoring programs for STEM/Quant ",
"Online forums" = "Online forums to discuss course-content with your peers",
"Events related to exploring STEM" = "Events related to exploring STEM majors, STEM research, or STEM careers",
"Events for building community" = "Events for building community amongst students, staff, and faculty in STEM/Quantitative courses"
)) %>%
mutate(Usefulness = fct_relevel(Usefulness, "VeryUseful", "SomewhatUseful", "NotUseful", "Unsure")) %>%
mutate(Usefulness = fct_recode(Usefulness, "Very Useful" = "VeryUseful",
"Somewhat Useful" = "SomewhatUseful",
"Not Useful"= "NotUseful")) %>%
mutate(group = "Students (n=171)")
#| fig-width: 11
#| fig-height: 8
rbind(Faculty_q7, Student_q7) %>%
mutate(Option = fct_relevel(Option, "Online forums", "Study Group Sign-up sheets", "Events for building community", "Peer Mentoring Program", "Events related to exploring STEM", "Course-specific workshops by peer tutors","STEM/Q Study skills workshops", "Course-specific workshops by staff/faculty", "One-on-one course tutoring", "Course-specific drop-in peer tutoring", "Credit-bearing foundational courses ")) %>%
ggplot(aes(y=Option, x=value, fill=group, alpha=fct_rev(Usefulness))) +
facet_wrap(~group) +
geom_col(position="fill") +
scale_x_continuous(labels = scales::percent) +
ylab("") +
xlab("") +
scale_fill_manual(values = my_cols[1:2], guide="none") +
scale_alpha_manual("", values=c(0.4, 0.6, 0.8, 1), guide = guide_legend(reverse = TRUE)) +
#scale_fill_brewer(" ",palette = "ByGn") +
#ggtitle("") +
labs(caption ="*Faculty were not asked about access to food/beverage or printers") +
theme_minimal(base_size = 16) +
theme(legend.position = "bottom") +
#, legend.text=element_text(size=12)
labs(caption ="*Students were not asked about credit-bearing foundational courses")
#| fig-height: 2.5
#| fig-width: 12
FacultySurveyResults %>%
select(office_hours) %>%
mutate(office_hours = factor(office_hours, levels=c("", "Very Unlikely", "Unlikely", "Neither likely nor unlikely", "Likely", "Very Likely"))) %>%
group_by(office_hours) %>%
count() %>%
mutate(col = " ") %>%
ggplot(aes(x=col,y=n/sum(n),alpha=office_hours)) +
geom_col(position="stack", fill=my_cols[1]) +
scale_alpha_manual("", values=c(0.1,0.40,0.55, 0.7, 0.85, 1), guide = guide_legend(reverse = TRUE)) +
scale_y_continuous(labels = scales::percent) +
xlab("") +
ylab("Percent of Faculty Surveyed") +
coord_flip() +
theme_minimal(base_size=16) +
theme(legend.position = "top", legend.text=element_text(size=12))
#| fig-height: 2.5
#| fig-width: 12
FacultySurveyResults %>%
select(office_hours) %>%
filter(office_hours != " ") %>%
mutate(office_hours = factor(office_hours, levels=c("", "Very Unlikely", "Unlikely", "Neither likely nor unlikely", "Likely", "Very Likely"))) %>%
group_by(office_hours) %>%
count() %>%
mutate(col = " ") %>%
ggplot(aes(x=col,y=n/sum(n),alpha=office_hours)) +
geom_col(position="stack", fill=my_cols[1]) +
scale_alpha_manual("", values=c(0.1,0.40,0.55, 0.7, 0.85, 1), guide = guide_legend(reverse = TRUE)) +
scale_y_continuous(labels = scales::percent) +
xlab("") +
ylab("Percent of Faculty Surveyed") +
coord_flip() +
theme_minimal(base_size=16) +
theme(legend.position = "top", legend.text=element_text(size=12))
#| fig-height: 2.5
#| fig-width: 12
FacultySurveyResults %>%
select(office_hours) %>%
filter(office_hours != "") %>%
mutate(office_hours = factor(office_hours, levels=c("", "Very Unlikely", "Unlikely", "Neither likely nor unlikely", "Likely", "Very Likely"))) %>%
group_by(office_hours) %>%
count() %>%
mutate(col = " ") %>%
ggplot(aes(x=col,y=n/sum(n),alpha=office_hours)) +
geom_col(position="stack", fill=my_cols[1]) +
scale_alpha_manual("", values=c(0.1,0.40,0.55, 0.7, 0.85, 1), guide = guide_legend(reverse = TRUE)) +
scale_y_continuous(labels = scales::percent) +
xlab("") +
ylab("Percent of Faculty Surveyed") +
coord_flip() +
theme_minimal(base_size=16) +
theme(legend.position = "top", legend.text=element_text(size=12))
1-pt(1.85, 9)
2*(1-pt(1.85, 9))
pt(1-1.85, 9)
50*.75
50*0.7
setwd("~/Google Drive/My Drive/EastonEmily/R by the Sea/rbythesea_website")
git remote add origin http://github.com/QuantMarineEcoLab/r_by_the_sea.git
owd
pwd
d |>
gt() |>
sub_missing(
columns = 1:4,
missing_text = ""
) |>
text_transform(cells_body(columns = c(Template)),
fn = function(x) {
ifelse(is.na(x), fontawesome::fa("file", fill_opacity = 0.1),
glue::glue("<a href = {x}>{fontawesome::fa('file')}</a>")
)
}
)
#| echo: FALSE
#| message: FALSE
#| warning: FALSE
library(googlesheets4)
library(gt)
library(tidyverse)
gs4_deauth()
d <- read_sheet("https://docs.google.com/spreadsheets/d/14u_VJSsrctmACH9mqCtYfqRrHW2v7I1COl6Atf9YPM4/edit?usp=sharing", sheet = "Sheet1")
d |>
gt() |>
sub_missing(
columns = 1:4,
missing_text = ""
) |>
text_transform(cells_body(columns = c(Template)),
fn = function(x) {
ifelse(is.na(x), fontawesome::fa("file", fill_opacity = 0.1),
glue::glue("<a href = {x}>{fontawesome::fa('file')}</a>")
)
}
)
d |>
gt() |>
sub_missing(
columns = 1:4,
missing_text = ""
) |>
text_transform(cells_body(columns = c(Template)),
fn = function(x) {
ifelse(is.na(x), fontawesome::fa("file", fill_opacity = 0.1),
glue::glue("<a href = {x}>{fontawesome::fa('file')}</a>")
)
}
) |>
text_transform(cells_body(columns = c(Notes)),
fn = function(x) {
ifelse(is.na(x), fontawesome::fa("file", fill_opacity = 0.1),
glue::glue("<a href = {x}>{fontawesome::fa('file')}</a>")
)
}
)
d |>
gt() |>
sub_missing(
columns = 1:4,
missing_text = ""
) |>
text_transform(cells_body(columns = c(Template)),
fn = function(x) {
ifelse(is.na(x), fontawesome::fa("file", fill_opacity = 0.1),
glue::glue("<a href = {x}>{fontawesome::fa('file')}</a>")
)
}
) |>
text_transform(cells_body(columns = c(Notes)),
fn = function(x) {
ifelse(is.na(x), fontawesome::fa("file", fill_opacity = 0.1),
glue::glue("<a href = {x}>{fontawesome::fa('file')}</a>")
)
}
) |>
text_transform(cells_body(columns = c(Homework)),
fn = function(x) {
ifelse(is.na(x), fontawesome::fa("desktop", fill_opacity = 0.1),
glue::glue("<a href = {x}>{fontawesome::fa('desktop')}</a>")
)
}
) |>
text_transform(cells_body(columns = c(Links)),
fn = function(x) {
ifelse(is.na(x), fontawesome::fa("link", fill_opacity = 0.1),
glue::glue("<a href = {x}>{fontawesome::fa('link')}</a>")
)
}
) |>
cols_align(
align = "center",
columns = c(Template, Notes, Homework, Links)
) |>
cols_align(
align = "left",
columns = c(Date, Time, Letter, Topic)
) |>
tab_style(
style = cell_borders(
sides = "right",
color = "#D3D3D3",
style = "solid"
),
locations = cells_body(
columns = c(Topic)
)
d |>
d |>
gt() |>
sub_missing(
columns = 1:4,
missing_text = ""
) |>
text_transform(cells_body(columns = c(Template)),
fn = function(x) {
ifelse(is.na(x), fontawesome::fa("file", fill_opacity = 0.1),
glue::glue("<a href = {x}>{fontawesome::fa('file')}</a>")
)
}
) |>
text_transform(cells_body(columns = c(Notes)),
fn = function(x) {
ifelse(is.na(x), fontawesome::fa("file", fill_opacity = 0.1),
glue::glue("<a href = {x}>{fontawesome::fa('file')}</a>")
)
}
) |>
text_transform(cells_body(columns = c(Homework)),
fn = function(x) {
ifelse(is.na(x), fontawesome::fa("desktop", fill_opacity = 0.1),
glue::glue("<a href = {x}>{fontawesome::fa('desktop')}</a>")
)
}
) |>
text_transform(cells_body(columns = c(Links)),
fn = function(x) {
ifelse(is.na(x), fontawesome::fa("link", fill_opacity = 0.1),
glue::glue("<a href = {x}>{fontawesome::fa('link')}</a>")
)
}
)
?cells_row_where
??cells_row_where
?gt::cells_row_where
?cols_width
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-WF28O8f0aUuuvN2cF4QAm3g8/2oh6Ft3R1xlAzDH8vH5ZVYTbVPjK7gFUoNMUs4ISwJgPVnP9M7xjO2aYX4YzA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
install.packages("fontawesome")
quarto render
0.7259
1/0.7259
qt(0.975, 19)
#| echo: FALSE
#| message: FALSE
#| warning: FALSE
library(googlesheets4)
library(gt)
library(tidyverse)
library(fontawesome)
gs4_deauth()
d <- read_sheet("https://docs.google.com/spreadsheets/d/13ANTSS5txUPlKCsSvw29UOo5jVPhwdper3I9QTbnrto/edit?usp=sharing", sheet = "Sheet1")
#| echo: FALSE
#| message: FALSE
#| warning: FALSE
library(googlesheets4)
library(gt)
library(tidyverse)
library(fontawesome)
gs4_deauth()
d <- read_sheet("https://docs.google.com/spreadsheets/d/13ANTSS5txUPlKCsSvw29UOo5jVPhwdper3I9QTbnrto/edit?usp=sharing", sheet = "Sheet1") %>%
select(-Lead)
#| echo: FALSE
#| message: FALSE
#| warning: FALSE
library(googlesheets4)
library(gt)
library(tidyverse)
library(fontawesome)
gs4_deauth()
d <- read_sheet("https://docs.google.com/spreadsheets/d/13ANTSS5txUPlKCsSvw29UOo5jVPhwdper3I9QTbnrto/edit?usp=sharing", sheet = "Sheet1") %>%
select(-Lead)
d <- read_sheet("https://docs.google.com/spreadsheets/d/13ANTSS5txUPlKCsSvw29UOo5jVPhwdper3I9QTbnrto/edit?usp=sharing", sheet = "Sheet1") %>%
select(-Lead) %>%
rename(Exercise = Asssignment)
library(googlesheets4)
library(gt)
library(tidyverse)
library(fontawesome)
gs4_deauth()
d <- read_sheet("https://docs.google.com/spreadsheets/d/13ANTSS5txUPlKCsSvw29UOo5jVPhwdper3I9QTbnrto/edit?usp=sharing", sheet = "Sheet1") %>%
select(-Lead) %>%
rename(Exercise = Asssignment)
library(googlesheets4)
library(gt)
library(tidyverse)
library(fontawesome)
gs4_deauth()
d <- read_sheet("https://docs.google.com/spreadsheets/d/13ANTSS5txUPlKCsSvw29UOo5jVPhwdper3I9QTbnrto/edit?usp=sharing", sheet = "Sheet1") %>%
select(-Lead) %>%
rename(Exercise = Assignment)
?rename
library(googlesheets4)
library(gt)
library(tidyverse)
library(fontawesome)
gs4_deauth()
d <- read_sheet("https://docs.google.com/spreadsheets/d/13ANTSS5txUPlKCsSvw29UOo5jVPhwdper3I9QTbnrto/edit?usp=sharing", sheet = "Sheet1") %>%
select(-Lead) %>%
rename(Exercise = Homework)
d |>
gt() |>
sub_missing(
columns = c(1:4,8),
missing_text = ""
) |>
#fas-fa-file-code
text_transform(cells_body(columns = c(Template)),
fn = function(x) {
ifelse(is.na(x), fontawesome::fa("file-code",fill_opacity = 0.1),
glue::glue("<a href = {x} >{fontawesome::fa('file-code')}</a>")
)
}
) |>
text_transform(cells_body(columns = c(Data)),
fn = function(x) {
ifelse(is.na(x), fontawesome::fa("table", fill_opacity = 0.1),
glue::glue("<a href = {x}>{fontawesome::fa('table')}</a>")
)
}
) |>
text_transform(cells_body(columns = c(Notes)),
fn = function(x) {
ifelse(is.na(x), fontawesome::fa('file-lines', fill_opacity = 0.1),
glue::glue("<a href = {x}>{fontawesome::fa('file-lines')}</a>")
)
}
) |>
text_transform(cells_body(columns = c(Homework)),
fn = function(x) {
ifelse(is.na(x), fontawesome::fa("file-pen", fill_opacity = 0.1),
glue::glue("<a href = {x}>{fontawesome::fa('file-pen')}</a>")
)
}
) |>
text_transform(cells_body(columns = c(Videos)),
fn = function(x) {
ifelse(is.na(x), fontawesome::fa("link", fill_opacity = 0.1),
glue::glue("<a href = {x}>{fontawesome::fa('link')}</a>")
)
}
) |>
# aligning columns
cols_align(
align = "center",
columns = c(Template, Notes, Homework, Videos)
) |>
cols_align(
align = "left",
columns = c(Date, Time, Letter, Topic, Desc)
# thin borders between all items
) |>
cols_align(
align = "right",
columns = c(Data)
# thin borders between all items
) |>
tab_style(
style = cell_borders(
sides = "top",
color = "black",
weight = px(2)
),
locations = cells_body(rows = !is.na(Date))
) |>
# dark borders between days
tab_style(
style = cell_borders(
sides = "bottom",
color = "black",
weight = px(4)
),
locations = cells_body(rows = Date == "Mon, June 17")
) |>
tab_style(
style = cell_borders(
sides = c("top", "bottom"),
color = "black",
weight = px(4)
),
locations = cells_column_labels(columns = everything())
) |>
# fixing column widths
cols_width(Date ~ px(150),
Time ~ px(90),
Letter ~ px(30),
Topic ~ px(250))
